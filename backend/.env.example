# ============================================
# AI Trading Prediction Model - Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit .env to Git!
# ============================================

# ============================================
# Application Settings
# ============================================
APP_NAME="AI Trading Prediction Model"
APP_VERSION="1.0.0"
DEBUG=False
ENVIRONMENT="development"  # development, staging, production

# ============================================
# API Keys - AI Models
# ============================================
OPENROUTER_API_KEY="your_openrouter_api_key_here"
OPENROUTER_MODEL="qwen/qwen-2.5-72b-instruct"
OPENROUTER_BASE_URL="https://openrouter.ai/api/v1"

TWELVE_DATA_API_KEY="your_twelve_data_api_key_here"

# ============================================
# Supabase Configuration
# Get these from: https://supabase.com/dashboard
# ============================================
SUPABASE_URL="https://xxxxxxxxxxxxx.supabase.co"
SUPABASE_KEY="your_supabase_anon_key_here"
SUPABASE_SERVICE_KEY="your_supabase_service_role_key_here"  # ⚠️ NEVER commit this!
SUPABASE_JWT_SECRET="your_supabase_jwt_secret_here"

# ============================================
# MongoDB Configuration (Flexible Analytics)
# Get from: MongoDB Atlas or local installation
# ============================================
MONGODB_URL="mongodb://localhost:27017"
# For MongoDB Atlas, use:
# MONGODB_URL="mongodb+srv://username:password@cluster.mongodb.net/dbname?retryWrites=true&w=majority"
MONGODB_DB_NAME="ai_trading"
MONGODB_MAX_POOL_SIZE=50
MONGODB_MIN_POOL_SIZE=10
MONGODB_TIMEOUT=5000

# ============================================
# Redis Configuration (Caching & Rate Limiting)
# Get from: Upstash Redis or local installation
# ============================================
REDIS_URL="redis://localhost:6379"
# For Upstash Redis, use:
# REDIS_URL="rediss://default:your_password@your-redis.upstash.io:6379"
REDIS_PASSWORD=""  # Leave empty for local Redis
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5

# Cache TTLs (in seconds)
PRICE_CACHE_TTL=5      # 5 seconds for real-time prices
PREDICTION_CACHE_TTL=30  # 30 seconds for predictions
USER_CACHE_TTL=300       # 5 minutes for user data

# ============================================
# Security Settings
# ============================================
SECRET_KEY="your-secret-key-change-in-production"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# Rate Limiting (Scalable)
# ============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# Future pricing tiers (ready to enable)
FREE_TIER_LIMIT_MINUTE=10
PRO_TIER_LIMIT_MINUTE=60
PREMIUM_TIER_LIMIT_MINUTE=300

# ============================================
# Database Connection Pool (Scalability)
# ============================================
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================
# CORS Settings
# ============================================
CORS_ORIGINS='["http://localhost:3000", "http://localhost:3001", "https://your-production-domain.com"]'

# ============================================
# API Configuration
# ============================================
API_V1_PREFIX="/api/v1"
HOST="0.0.0.0"
PORT=8000

# Binance API (Optional - for authenticated API calls)
BINANCE_API_KEY=""  # Leave empty for public data only
BINANCE_API_SECRET=""

# ============================================
# WebSocket URLs
# ============================================
BINANCE_WS_URL="wss://stream.binance.com:9443/ws"
BINANCE_REST_URL="https://api.binance.com"
TWELVE_DATA_WS_URL="wss://ws.twelvedata.com/v1/quotes/price"

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL="INFO"
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# ============================================
# Performance & Scalability
# ============================================
MAX_WORKERS=4
REQUEST_TIMEOUT=30
CACHE_TTL=300

# ============================================
# SETUP INSTRUCTIONS
# ============================================

# 1. Supabase Setup:
#    - Go to https://supabase.com/dashboard
#    - Create new project
#    - Copy URL and keys from Settings → API
#    - Run database schema from backend/app/db/schema.sql

# 2. MongoDB Setup (choose one):
#    a) Local: Install MongoDB and use default URL
#    b) MongoDB Atlas:
#       - Go to https://www.mongodb.com/cloud/atlas
#       - Create free cluster
#       - Get connection string
#       - Replace MONGODB_URL with your connection string

# 3. Redis Setup (choose one):
#    a) Local: Install Redis and use default URL
#    b) Upstash Redis:
#       - Go to https://upstash.com/
#       - Create free Redis database
#       - Copy URL from dashboard
#       - Replace REDIS_URL with your connection string

# 4. API Keys:
#    - OpenRouter: https://openrouter.ai/keys
#    - Twelve Data: https://twelvedata.com/pricing
#    - Both have free tiers!

# 5. After filling all values, rename this file to .env

# ⚠️ SECURITY WARNING:
# - NEVER commit .env to Git
# - Keep SUPABASE_SERVICE_KEY secret
# - Keep SECRET_KEY random and secure
# - Use strong passwords for MongoDB and Redis in production
